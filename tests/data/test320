<?xml version="1.0" encoding="US-ASCII"?>
<testcase>
<info>
<keywords>
HTTPS
HTTP GET
TLS-SRP
</keywords>
</info>

# Server-side
<reply>
<data nocheck="yes">
%includetext %SRCDIR/data/data%TESTNUMBER.html%
</data>
</reply>

# Client-side
<client>
<server>
httptls+srp
</server>
<features>
TLS-SRP
</features>
<name>
simple TLS-SRP HTTPS GET, check user in response
</name>
<command>
--insecure --tlsauthtype SRP --tlsuser jsmith --tlspassword abc -A curl-test-suite https://%HOSTIP:%HTTPTLSPORT
</command>
</client>

# Verify data after the test has been "shot"
<verify>
<file name="%LOGDIR/curl%TESTNUMBER.out" crlf="headers">
HTTP/1.0 200 OK
Content-type: text/html

FINE
User-Agent: curl-test-suite
Accept: */*

</file>
<stripfile>
s/^%LTp%GTConnected as user 'jsmith'.*/FINE/
s/Protocol version:.*[0-9]//
s/GNUTLS/GnuTLS/
s/(AES[-_])\d\d\d([-_]CBC)/$1NNN$2/
s/^%LT.*\n//
s/^\n//
</stripfile>
</verify>

</testcase>
