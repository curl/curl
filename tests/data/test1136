<testcase>
<info>
<keywords>
HTTP
HTTP GET
HTTP proxy
cookies
cookiejar
PSL
</keywords>
</info>

# Server-side
<reply>
<data>
HTTP/1.1 200 OK
Date: Tue, 09 Nov 2010 14:49:00 GMT
Server: test-server/fake
Content-Length: 4
Content-Type: text/html
Funny-head: yesyes
Set-Cookie: test1=forbidden1; domain=example.ck; path=/;
Set-Cookie: test2=allowed2; domain=www.example.ck; path=/;
Set-Cookie: test3=forbidden3; domain=ck; path=/;
Set-Cookie: test4=allowed4; domain=www.ck; path=/;
Set-Cookie: test5=forbidden5; domain=z-1.compute-1.amazonaws.com; path=/;

boo
</data>
</reply>

# Client-side
<client>
<features>
PSL
proxy
</features>
<server>
http
</server>
<name>
Check cookies against PSL
</name>
<setenv>
TZ=GMT
</setenv>
<command>
http://www.example.ck/%TESTNUMBER http://www.ck/%TESTNUMBER http://z-1.compute-1.amazonaws.com/%TESTNUMBER -b none -c %LOGDIR/jar%TESTNUMBER.txt -x %HOSTIP:%HTTPPORT
</command>

</client>

# Verify data after the test has been "shot"
<verify>
<file name="%LOGDIR/jar%TESTNUMBER.txt" mode="text">
# Netscape HTTP Cookie File
# https://curl.se/docs/http-cookies.html
# This file was generated by libcurl! Edit at your own risk.

.z-1.compute-1.amazonaws.com	TRUE	/	FALSE	0	test5	forbidden5
.www.ck	TRUE	/	FALSE	0	test4	allowed4
.www.example.ck	TRUE	/	FALSE	0	test2	allowed2
</file>
</verify>
</testcase>
